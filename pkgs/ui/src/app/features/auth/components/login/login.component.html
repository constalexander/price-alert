<p-dialog
  header="Login"
  [(visible)]="visible"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  (onHide)="onDialogHide()"
  [style]="{ width: '400px' }"
  class="dark:bg-gray-900"
>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
    <div class="flex flex-col gap-2">
      <label for="email">Email</label>
      <input
        id="email"
        type="email"
        pInputText
        formControlName="email"
        [class.ng-invalid]="emailControl?.invalid && emailControl?.touched"
      />
      <small class="text-red-500" *ngIf="emailControl?.invalid && emailControl?.touched">
        Please enter a valid email address
      </small>
    </div>

    <div class="flex flex-col gap-2">
      <label for="password">Password</label>
      <p-password
        id="password"
        formControlName="password"
        [feedback]="false"
        [toggleMask]="true"
        [class.ng-invalid]="passwordControl?.invalid && passwordControl?.touched"
      />
      <small class="text-red-500" *ngIf="passwordControl?.invalid && passwordControl?.touched">
        Password is required
      </small>
    </div>

    <small class="text-red-500" *ngIf="errorMessage">
      {{ errorMessage }}
    </small>

    <p-button
      type="submit"
      label="Login"
      [loading]="isLoading"
      [disabled]="form.invalid || isLoading"
      styleClass="w-full"
    />
  </form>
</p-dialog>
