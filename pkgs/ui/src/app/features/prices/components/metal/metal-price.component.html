<div class="flex flex-col gap-2 p-4">
  <div class="font-bold text-base mb-2">Precious Metal Price</div>

  <div class="flex items-center gap-2">
    <p-selectButton
      [(ngModel)]="selectedMetal"
      [options]="metalOptions"
      (onSelect)="onSelect()"
      optionLabel="label"
      optionValue="value"
      class="w-64"
    ></p-selectButton>

    <p-button
      [label]="loading ? 'Loading...' : 'Get Price'"
      [loading]="loading"
      (onClick)="getPrice()"
      [disabled]="!canGetPrice"
    ></p-button>
  </div>

  <div *ngIf="price !== null" class="flex flex-col gap-2">
    <div class="text-2xl font-mono mt-4 text-emerald-400">
      {{ selectedCurrency === 'usd' ? '$' : '€' }}{{ price.toLocaleString() }}
    </div>
    <p-button
      [label]="
        'Create alert for ' +
        selectedMetalName +
        ' at ' +
        (selectedCurrency === 'usd' ? '$' : '€') +
        price.toLocaleString()
      "
      (onClick)="createAlert()"
      severity="secondary"
      [outlined]="true"
    ></p-button>
  </div>

  <div *ngIf="error" class="text-red-500">
    {{ error }}
  </div>
</div>
